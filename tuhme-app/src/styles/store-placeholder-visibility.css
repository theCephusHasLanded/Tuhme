/* Store Placeholder and Empty Card Visibility Fix */
/* Ensures empty store cards and placeholders are visible in all system modes */

/* ===== STORE PLACEHOLDER ENHANCEMENT ===== */

/* Target placeholder store cards */
.store-card:empty,
.store-card[data-placeholder],
.store-card.placeholder,
.luxury-card:empty,
.luxury-card[data-placeholder],
.luxury-card.placeholder,
.card:empty,
.card[data-placeholder],
.card.placeholder {
  position: relative;
  min-height: 200px;
  background: 
    linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.9) 0%,
      rgba(20, 20, 20, 0.95) 100%
    ) !important;
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(3px) contrast(1.2) brightness(0.8);
  -webkit-backdrop-filter: blur(3px) contrast(1.2) brightness(0.8);
}

/* Add loading indicator to empty cards */
.store-card:empty::before,
.store-card[data-placeholder]::before,
.store-card.placeholder::before,
.luxury-card:empty::before,
.luxury-card[data-placeholder]::before,
.luxury-card.placeholder::before,
.card:empty::before,
.card[data-placeholder]::before,
.card.placeholder::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 40px;
  height: 40px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid var(--accent-primary, #d4af37);
  border-radius: 50%;
  animation: placeholder-spin 1s linear infinite;
  z-index: 3;
}

/* Add "Loading..." text to placeholders */
.store-card:empty::after,
.store-card[data-placeholder]::after,
.store-card.placeholder::after,
.luxury-card:empty::after,
.luxury-card[data-placeholder]::after,
.luxury-card.placeholder::after,
.card:empty::after,
.card[data-placeholder]::after,
.card.placeholder::after {
  content: 'Loading Store...';
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.8) !important;
  font-size: 14px;
  font-weight: 500;
  text-shadow: 
    0 0 2px rgba(0, 0, 0, 1),
    0 2px 4px rgba(0, 0, 0, 0.8);
  z-index: 3;
}

@keyframes placeholder-spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* ===== MINIMAL CONTENT CARDS ===== */

/* Cards with minimal content get enhanced visibility */
.store-card:not(:empty),
.luxury-card:not(:empty),
.card:not(:empty) {
  min-height: 180px;
  background: 
    linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.95) 0%,
      rgba(15, 15, 15, 0.9) 100%
    ) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(2px) contrast(1.15) brightness(0.85);
  -webkit-backdrop-filter: blur(2px) contrast(1.15) brightness(0.85);
}

/* ===== STORE GRID ENHANCEMENT ===== */

/* Ensure store grid background is visible */
.horizontal-store-carousel,
.store-carousel,
.store-grid,
.luxury-grid {
  background: 
    linear-gradient(
      180deg,
      rgba(0, 0, 0, 0.9) 0%,
      rgba(0, 0, 0, 0.85) 50%,
      rgba(0, 0, 0, 0.9) 100%
    ) !important;
  backdrop-filter: blur(1px) contrast(1.1) brightness(0.8);
  -webkit-backdrop-filter: blur(1px) contrast(1.1) brightness(0.8);
  padding: 20px;
  border-radius: 12px;
}

/* ===== SYSTEM MODE ADAPTATIONS ===== */

@media (prefers-color-scheme: light) {
  .store-card:empty,
  .store-card[data-placeholder],
  .store-card.placeholder,
  .luxury-card:empty,
  .luxury-card[data-placeholder],
  .luxury-card.placeholder,
  .card:empty,
  .card[data-placeholder],
  .card.placeholder {
    background: 
      linear-gradient(
        135deg,
        rgba(0, 0, 0, 0.98) 0%,
        rgba(10, 10, 10, 0.95) 100%
      ) !important;
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    backdrop-filter: blur(4px) contrast(1.4) brightness(0.6);
    -webkit-backdrop-filter: blur(4px) contrast(1.4) brightness(0.6);
  }
  
  .store-card:not(:empty),
  .luxury-card:not(:empty),
  .card:not(:empty) {
    background: 
      linear-gradient(
        135deg,
        rgba(0, 0, 0, 0.98) 0%,
        rgba(8, 8, 8, 0.95) 100%
      ) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    backdrop-filter: blur(3px) contrast(1.3) brightness(0.7);
    -webkit-backdrop-filter: blur(3px) contrast(1.3) brightness(0.7);
  }
  
  .horizontal-store-carousel,
  .store-carousel,
  .store-grid,
  .luxury-grid {
    background: 
      linear-gradient(
        180deg,
        rgba(0, 0, 0, 0.98) 0%,
        rgba(0, 0, 0, 0.95) 50%,
        rgba(0, 0, 0, 0.98) 100%
      ) !important;
    backdrop-filter: blur(2px) contrast(1.3) brightness(0.6);
    -webkit-backdrop-filter: blur(2px) contrast(1.3) brightness(0.6);
  }
}

/* ===== HOVER AND INTERACTION STATES ===== */

.store-card:hover,
.luxury-card:hover,
.card:hover {
  background: 
    linear-gradient(
      135deg,
      rgba(20, 20, 20, 0.95) 0%,
      rgba(30, 30, 30, 0.9) 100%
    ) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  backdrop-filter: blur(3px) contrast(1.2) brightness(0.9);
  -webkit-backdrop-filter: blur(3px) contrast(1.2) brightness(0.9);
  transform: translateY(-2px);
  transition: all 0.3s ease;
}

/* ===== MOBILE OPTIMIZATIONS ===== */

@media screen and (max-width: 768px) {
  .store-card,
  .luxury-card,
  .card {
    min-height: 160px;
    backdrop-filter: blur(1.5px) contrast(1.1) brightness(0.8);
    -webkit-backdrop-filter: blur(1.5px) contrast(1.1) brightness(0.8);
  }
  
  .horizontal-store-carousel,
  .store-carousel,
  .store-grid,
  .luxury-grid {
    padding: 15px;
    backdrop-filter: blur(1px) contrast(1.05) brightness(0.85);
    -webkit-backdrop-filter: blur(1px) contrast(1.05) brightness(0.85);
  }
}

/* ===== LOADING STATE ENHANCEMENTS ===== */

.store-card.loading,
.luxury-card.loading,
.card.loading {
  background: 
    linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.9) 0%,
      rgba(10, 10, 10, 0.85) 50%,
      rgba(0, 0, 0, 0.9) 100%
    ) !important;
  animation: loading-pulse 2s ease-in-out infinite;
}

@keyframes loading-pulse {
  0%, 100% {
    opacity: 0.8;
    backdrop-filter: blur(2px) contrast(1.1) brightness(0.8);
    -webkit-backdrop-filter: blur(2px) contrast(1.1) brightness(0.8);
  }
  50% {
    opacity: 1;
    backdrop-filter: blur(3px) contrast(1.2) brightness(0.9);
    -webkit-backdrop-filter: blur(3px) contrast(1.2) brightness(0.9);
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

@media (prefers-reduced-motion: reduce) {
  .store-card:empty::before,
  .luxury-card:empty::before,
  .card:empty::before {
    animation: none;
    border: 3px solid rgba(255, 255, 255, 0.5);
    border-top: 3px solid var(--accent-primary, #d4af37);
  }
  
  .store-card.loading,
  .luxury-card.loading,
  .card.loading {
    animation: none;
  }
  
  .store-card:hover,
  .luxury-card:hover,
  .card:hover {
    transform: none;
    transition: none;
  }
}
